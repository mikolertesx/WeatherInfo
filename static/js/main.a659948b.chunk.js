(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{23:function(e,t,a){e.exports=a(54)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),l=a(5);var s=a(7),i={loc:{lat:null,long:null},date:new Date};var u=Object(s.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(l.a)(Object(l.a)({},e),{},{loc:t.loc});case"SET_DATE":return Object(l.a)(Object(l.a)({},e),{},{date:t.date});default:return e}})),m=a(8),h=a(2),p=a.n(h),w=a(3),d=a(4),E={UNSTARTED:"UNSTARTED",LOADING:"LOADING",ERROR:"ERROR",READY:"READY"},g=a(9),v=a.n(g),f={Snow:"sn",Sleet:"sl",Hail:"h",Thunderstorm:"t","Heavy Rain":"hr","Light Rain":"lr",Showers:"s","Heavy Cloud":"hc","Light Cloud":"lc",Clear:"c"},O={};Object.keys(f).forEach((function(e){var t=e;O[f[e]]=t}));var b="https://www.metaweather.com/api",N=function(e,t){return"".concat(e,"/").concat(t)},R=function(){var e=Object(w.a)(p.a.mark((function e(t,a){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N(b,"location/search/?lattlong=".concat(t,",").concat(a)),e.next=3,v.a.get(n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N(b,"location/".concat(t)),e.next=3,v.a.get(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=(a(52),function(e){var t=Object(n.useState)(E.UNSTARTED),a=Object(d.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(null),s=Object(d.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(null),h=Object(d.a)(m,2),g=h[0],v=h[1],O=Object(n.useState)(null),b=Object(d.a)(O,2),N=b[0],y=b[1],A=function(){var t=Object(w.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(E.LOADING),navigator.geolocation.getCurrentPosition(function(){var t=Object(w.a)(p.a.mark((function t(a){var n,c,r,l,s,i,m,h,w;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.coords.latitude,c=a.coords.longitude,e.onLocationChange({lat:n,long:c}),t.prev=3,t.next=6,R(n,c);case 6:return r=t.sent,l=r[0],t.next=10,j(l.woeid);case 10:s=t.sent,i=s.consolidated_weather[0],m=i.max_temp,h=i.min_temp,w=i.the_temp,u("".concat(l.title," by approximation.")),v(i.weather_state_name),y("".concat(h,"\xb0 > ").concat(w,"\xb0 < ").concat(m,"\xb0")),o(E.READY),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(3),o(E.ERROR),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e){return t.apply(this,arguments)}}(),(function(e){console.log(e),o(E.ERROR)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T="Unknown location";e.location.lat&&e.location.long&&(T="".concat(e.location.lat,", ").concat(e.location.long)),null!==i&&(T=i);var S,D=g?c.a.createElement("img",{src:(S=g,"https://www.metaweather.com/static/img/weather/png/64/".concat(f[S],".png")),alt:"Unknown Status",className:"weather-img"}):c.a.createElement("div",{className:"empty-div"},c.a.createElement("h1",null,"?")),k=c.a.createElement("div",{className:"weather-card"},c.a.createElement("h1",{style:{textAlign:"center",marginTop:"12px"}},"How hot is where I am right now?"),c.a.createElement("div",{className:"weather-presentation"},c.a.createElement("div",{className:"empty-div"},c.a.createElement("h1",null,"?"))),c.a.createElement("button",{onClick:A},"Use my location")),x=c.a.createElement("div",{className:"weather-card"},c.a.createElement("div",{className:"weather-info"},c.a.createElement("p",{className:"weather-location"},T),c.a.createElement("p",{className:"weather-date"},e.date),c.a.createElement("p",{className:"weather-type"},g||"Unknown weather")),c.a.createElement("div",{className:"weather-presentation"},D,c.a.createElement("p",{className:"weather-temperature"},N||"Unknown temperature")),c.a.createElement("button",{onClick:A},"Use my location"));return r===E.UNSTARTED?k:r===E.READY?x:r===E.LOADING?c.a.createElement("div",{className:"weather-card weather-loading"},c.a.createElement("div",{className:"loader"},"Loading...")):c.a.createElement("div",{className:"weather-card weather-wrong"},c.a.createElement("p",{className:"weather-wrong"},"Something went wrong..."),c.a.createElement("button",{onClick:A},"Try Again"))}),A=Object(m.b)((function(e){return{location:e.loc,date:"".concat(e.date.getDate(),"/").concat(e.date.getMonth()+1,"/").concat(e.date.getFullYear())}}),(function(e){return{onLocationChange:function(t){var a;e({type:"SET_LOCATION",loc:{lat:(a=t).lat,long:a.long}})},onDateChange:function(t){e({type:"SET_DATE",date:t})}}}))(y);a(53);var T=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(m.a,{store:u},c.a.createElement(A,null)))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a659948b.chunk.js.map