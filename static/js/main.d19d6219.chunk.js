(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{23:function(e,t,a){e.exports=a(54)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=a(5);var i=a(7),s={loc:{lat:null,long:null},date:new Date};var u=Object(i.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(l.a)(Object(l.a)({},e),{},{loc:t.loc});case"SET_DATE":return Object(l.a)(Object(l.a)({},e),{},{date:t.date});default:return e}})),m=a(8),h=a(2),p=a.n(h),d=a(3),w=a(4),E={UNSTARTED:"UNSTARTED",LOADING:"LOADING",ERROR:"ERROR",READY:"READY"},v=a(9),g=a.n(v),f={Snow:"sn",Sleet:"sl",Hail:"h",Thunderstorm:"t","Heavy Rain":"hr","Light Rain":"lr",Showers:"s","Heavy Cloud":"hc","Light Cloud":"lc",Clear:"c"},O={};Object.keys(f).forEach((function(e){var t=e;O[f[e]]=t}));var b="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api",N=function(e,t){return"".concat(e,"/").concat(t)},R=function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N(b,"location/search/?lattlong=".concat(t,",").concat(a)),e.next=3,g.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N(b,"location/".concat(t)),e.next=3,g.a.get(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=(a(52),function(e){var t=Object(n.useState)(E.UNSTARTED),a=Object(w.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(null),i=Object(w.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(null),h=Object(w.a)(m,2),v=h[0],g=h[1],O=Object(n.useState)(null),b=Object(w.a)(O,2),N=b[0],j=b[1],A=function(){var t=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(E.LOADING),navigator.geolocation.getCurrentPosition(function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,c,l,i,s,m,h,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.coords.latitude,r=a.coords.longitude,e.onLocationChange({lat:n,long:r}),t.prev=3,t.next=6,R(n,r);case 6:return c=t.sent,l=c[0],t.next=10,y(l.woeid);case 10:i=t.sent,s=i.consolidated_weather[0],m=s.max_temp.toFixed(2),h=s.min_temp.toFixed(2),d=s.the_temp.toFixed(2),u("".concat(l.title," by approximation.")),g(s.weather_state_name),j("".concat(h," C\xb0 > ").concat(d," C\xb0 < ").concat(m," C\xb0")),o(E.READY),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(3),o(E.ERROR),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e){return t.apply(this,arguments)}}(),(function(e){console.log(e),o(E.ERROR)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T="Unknown location";e.location.lat&&e.location.long&&(T="".concat(e.location.lat,", ").concat(e.location.long)),null!==s&&(T=s);var S,x=v?r.a.createElement("div",{className:"weather-img-container"},r.a.createElement("img",{src:(S=v,"https://www.metaweather.com/static/img/weather/".concat(f[S],".svg")),alt:"Unknown Status",className:"weather-img"})):r.a.createElement("div",{className:"empty-div"},r.a.createElement("h1",null,"?")),D=r.a.createElement("div",{className:"weather-card"},r.a.createElement("h1",{style:{textAlign:"center",marginTop:"12px"}},"How hot is where I am right now?"),r.a.createElement("div",{className:"weather-presentation"},r.a.createElement("div",{className:"empty-div"},r.a.createElement("h1",null,"?"))),r.a.createElement("button",{onClick:A},"Use my location")),k=r.a.createElement("div",{className:"weather-card"},r.a.createElement("div",{className:"weather-info"},r.a.createElement("p",{className:"weather-location"},T),r.a.createElement("p",{className:"weather-date"},e.date),r.a.createElement("p",{className:"weather-type"},v||"Unknown weather")),r.a.createElement("div",{className:"weather-presentation"},x,r.a.createElement("p",{className:"weather-temperature"},N||"Unknown temperature")),r.a.createElement("button",{onClick:A},"Use my location"));return c===E.UNSTARTED?D:c===E.READY?k:c===E.LOADING?r.a.createElement("div",{className:"weather-card weather-loading"},r.a.createElement("div",{className:"loader"},"Loading...")):r.a.createElement("div",{className:"weather-card weather-wrong"},r.a.createElement("p",{className:"weather-wrong"},"Something went wrong..."),r.a.createElement("button",{onClick:A},"Try Again"))}),A=Object(m.b)((function(e){return{location:e.loc,date:"".concat(e.date.getDate(),"/").concat(e.date.getMonth()+1,"/").concat(e.date.getFullYear())}}),(function(e){return{onLocationChange:function(t){var a;e({type:"SET_LOCATION",loc:{lat:(a=t).lat,long:a.long}})},onDateChange:function(t){e({type:"SET_DATE",date:t})}}}))(j);a(53);var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{store:u},r.a.createElement(A,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d19d6219.chunk.js.map